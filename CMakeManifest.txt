


foreach(SOURCE_FILE ${MODULE_FILES})
        get_filename_component(FILE_NAME "${SOURCE_FILE}" NAME_WE)
        set(GENERATED_OUTPUT_FILE "${CMAKE_CURRENT_BINARY_DIR}/generated_files/gen_${FILE_NAME}.h")

        add_custom_command(
            OUTPUT "${GENERATED_OUTPUT_FILE}"
            COMMAND manifesto ARGS "${SOURCE_FILE}" "${GENERATED_OUTPUT_FILE}"
            DEPENDS "${SOURCE_FILE}"
            COMMENT "Generating manifest of ${SOURCE_FILE}"
        )
        # Add the generated file to a list for later use in target
        list(APPEND GENERATED_FILES "${GENERATED_OUTPUT_FILE}")
        string(APPEND MODULE_FUNCTIONS "MOD(${SOURCE_FILE}),")
endforeach()

#if(NOT DEFINED MODULE_FUNCTIONS_SET)
#add_compile_options(-DMODULE_FUNCTIONS="${MODULE_FUNCTIONS}")
#set(MODULE_FUNCTIONS_SET 1)
#endif()

